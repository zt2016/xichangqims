<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:h="http://java.sun.com/jsf/html">
	
	<p:dialog header="Create New Task Phase Control" widgetVar="dlg2" modal="true"
		height="400" width="600">
		<h:form prependId="false">
			<h:panelGrid columns="2" columnClasses="label, value"
				style="margin-bottom:10px" cellpadding="5" id="createNewTaskPhaseControl">
				<h:outputLabel value="Work System:" rendered="true" />
				<p:selectOneListbox id="selectWorkSystem"
					value="#{lazyTaskPhaseControlManagedBean.taskPhaseControl.workSystem}"
					var="system"
					converter="workSystemConverter"
					filter="true"
					filterMatchMode="contains"
					rendered="true">
					<f:selectItems value="#{workSystemManagedBean.workSystemList}"
						var="workSystem" itemLabel="#{workSystem.name}"
						itemValue="#{workSystem}">
					</f:selectItems>
					<p:column>
						<h:outputText value="#{system.id}" />
					</p:column>
		            <p:column>
		                <h:outputText value="#{system.name}" />
		            </p:column>
				</p:selectOneListbox>
				<h:outputLabel value="Task:" rendered="true" />
				<p:selectOneListbox id="selectTaskBase"
					value="#{lazyTaskPhaseControlManagedBean.taskPhaseControl.taskBase}"
					var="task"
					converter="taskBaseConverter"
					filter="true"
					filterMatchMode="contains"
					rendered="true">
					<f:selectItems value="#{taskBaseManagedBean.taskList}"
						var="taskBase" itemLabel="#{taskBase.name}"
						itemValue="#{taskBase}">
					</f:selectItems>
					<p:column>
						<h:outputText value="#{task.id}" />
					</p:column>
		            <p:column>
		                <h:outputText value="#{task.name}" />
		            </p:column>
				</p:selectOneListbox>
				<h:outputLabel value="Task Phase:" rendered="true" />
				<p:selectOneListbox id="selectTaskPhase"
					value="#{lazyTaskPhaseControlManagedBean.taskPhaseControl.taskPhase}"
					converter="taskPhaseConverter"
					rendered="true">
					<f:selectItems value="#{taskPhaseManagedBean.taskPhaseList}"
						var="taskPhase" itemLabel="#{taskPhase.name}"
						itemValue="#{taskPhase}">
					</f:selectItems>
				</p:selectOneListbox>
				<h:outputLabel value="Start Time:" />
				<p:calendar id="newTaskPhaseControlStartTime"
					value="#{lazyTaskPhaseControlManagedBean.taskPhaseControl.startTime}"
					pattern="MM/dd/yyyy HH:mm:ss" />
				<h:outputLabel value="End Time:" />
				<p:calendar id="newTaskPhaseControlEndTime"
					value="#{lazyTaskPhaseControlManagedBean.taskPhaseControl.endTime}"
					pattern="MM/dd/yyyy HH:mm:ss" />
			</h:panelGrid>
			<p:commandButton value="Submit" update="msg"
				action="#{lazyTaskPhaseControlManagedBean.createTaskPhaseControl}" ajax="false"
				icon="ui-icon-check" />
		</h:form>
	</p:dialog>

</ui:composition>